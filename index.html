<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zama FHE Quiz (Advanced)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a; /* slate-900 */
        }
        #quiz-container {
            background: radial-gradient(circle at top, #334155, #1e293b); /* slate-700 to slate-800 */
        }
        .quiz-option {
            transition: all 0.2s ease-in-out;
        }
        .quiz-option:hover {
            transform: scale(1.02);
            box-shadow: 0 0 15px rgba(251, 191, 36, 0.2); /* amber-400 */
        }
    </style>
</head>
<body class="text-white flex items-center justify-center min-h-screen p-4">

    <div id="quiz-container" class="w-full max-w-xl bg-slate-800 rounded-2xl shadow-2xl p-6 md:p-8 border-t-4 border-amber-500">
        <!-- Quiz Header -->
        <div class="mb-6 text-center">
            <h1 class="text-3xl font-bold text-amber-400">Zama Advanced Quiz</h1>
            <p class="text-slate-400 mt-2">Explore deeper concepts in Fully Homomorphic Encryption.</p>
        </div>
        <hr class="border-slate-700 mb-6">

        <!-- Question Display -->
        <div id="question-section">
            <p class="text-lg font-semibold mb-2 text-slate-300">Question <span id="question-number"></span> of <span id="total-questions"></span></p>
            <h2 id="question-text" class="text-2xl font-semibold leading-tight mb-6"></h2>
            <div id="options-container" class="flex flex-col gap-4">
                <!-- Options will be dynamically inserted here -->
            </div>
            <div id="rationale-container" class="mt-6 p-4 bg-slate-700/50 rounded-lg hidden">
                <p id="rationale-text" class="text-slate-300"></p>
            </div>
        </div>

        <!-- Results Display -->
        <div id="results-section" class="hidden text-center">
            <h2 class="text-4xl font-bold text-amber-400">Quiz Complete!</h2>
            <p class="text-2xl mt-4">You scored</p>
            <p id="score" class="text-6xl font-extrabold my-4"></p>
            <p id="score-text" class="text-lg text-slate-400 mb-8"></p>
            <button id="restart-btn" class="w-full md:w-auto bg-amber-500 hover:bg-amber-600 text-white font-bold py-3 px-8 rounded-lg transition-all duration-300">
                Try Again
            </button>
        </div>

        <!-- Navigation -->
        <div id="navigation-section" class="mt-8 flex justify-between items-center">
            <p id="hint-text" class="text-sm text-slate-500 italic"></p>
            <button id="next-btn" class="bg-slate-700 hover:bg-amber-500 text-white font-bold py-2 px-6 rounded-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed">
                Next
            </button>
        </div>
    </div>

    <script>
        const quizData = {
            "questions": [{
                "question": "In FHE, what is the purpose of 'bootstrapping', a key feature of Zama's TFHE-rs library?",
                "hint": "Think of it as a way to 'refresh' a ciphertext to allow for more calculations.",
                "options": [{
                    "text": "To speed up the initial encryption of data.",
                    "isCorrect": false,
                    "rationale": "Bootstrapping is a computationally intensive operation performed during the homomorphic evaluation, not during the initial encryption."
                }, {
                    "text": "To reduce the noise in a ciphertext, allowing for unlimited computations.",
                    "isCorrect": true,
                    "rationale": "This is the core function of bootstrapping. It resets the noise level, effectively enabling a potentially infinite number of operations on the encrypted data."
                }, {
                    "text": "To decrypt the final result of a computation.",
                    "isCorrect": false,
                    "rationale": "Decryption is a separate process that uses the private key; bootstrapping is part of the computation on the server side."
                }, {
                    "text": "To combine multiple encrypted datasets into one.",
                    "isCorrect": false,
                    "rationale": "While FHE can combine datasets, 'bootstrapping' is the specific process of noise reduction, not data merging."
                }]
            }, {
                "question": "What is the primary role of Zama's 'Concrete' toolset?",
                "hint": "It acts as a bridge, making a complex, low-level technology easier for developers to use.",
                "options": [{
                    "text": "It is a hardware accelerator designed to speed up FHE operations.",
                    "isCorrect": false,
                    "rationale": "While Zama works on hardware acceleration, 'Concrete' itself is a software compiler and toolset."
                }, {
                    "text": "A visual dashboard for monitoring encrypted computations.",
                    "isCorrect": false,
                    "rationale": "Concrete is a development tool for building applications, not a monitoring dashboard for observing them."
                }, {
                    "text": "An FHE-aware compiler that converts Python code into an FHE-equivalent program.",
                    "isCorrect": true,
                    "rationale": "This accurately describes Concrete's purpose: to abstract away the complexity of FHE and allow developers to work in a high-level language like Python."
                }, {
                    "text": "A standalone database for storing encrypted information.",
                    "isCorrect": false,
                    "rationale": "While the outputs of a Concrete program can be stored, it is fundamentally a compiler, not a database solution."
                }]
            }, {
                "question": "What problem is Zama's fhEVM designed to solve for blockchains?",
                "hint": "It addresses a major limitation of public blockchains regarding data visibility.",
                "options": [{
                    "text": "To increase the transaction speed of the Ethereum network.",
                    "isCorrect": false,
                    "rationale": "FHE computations are slower, so the goal is privacy, not a direct increase in transaction throughput."
                }, {
                    "text": "To reduce the gas fees required to deploy a smart contract.",
                    "isCorrect": false,
                    "rationale": "FHE operations are complex and are more likely to increase, not decrease, the computational cost (and thus gas fees) of transactions."
                }, {
                    "text": "To allow smart contracts to be written in Python instead of Solidity.",
                    "isCorrect": false,
                    "rationale": "The fhEVM is an extension of the Ethereum Virtual Machine for confidentiality; it doesn't change the primary smart contract language."
                }, {
                    "text": "To enable confidential smart contracts where on-chain data remains encrypted.",
                    "isCorrect": true,
                    "rationale": "The fhEVM (Fully Homomorphic EVM) allows smart contract logic to execute on encrypted data, making on-chain interactions confidential."
                }]
            }, {
                "question": "In the context of FHE, what is 'noise'?",
                "hint": "It's an inherent part of the encryption process that grows with each computation.",
                "options": [{
                    "text": "A small, random error added during encryption that limits computations.",
                    "isCorrect": true,
                    "rationale": "This accurately describes noise in FHE; it's a small error that increases with operations, eventually making the ciphertext undecryptable if not managed."
                }, {
                    "text": "Malicious data injected to corrupt the computation.",
                    "isCorrect": false,
                    "rationale": "Malicious data is a security threat, but 'noise' is a fundamental concept of the cryptographic scheme itself."
                }, {
                    "text": "Unnecessary data that is filtered out before encryption.",
                    "isCorrect": false,
                    "rationale": "Noise is introduced *during* encryption and managed during computation, not filtered out beforehand."
                }, {
                    "text": "The public key used to encrypt the data.",
                    "isCorrect": false,
                    "rationale": "The public key is a component used for the encryption process, but it is distinct from the noise that is added to the data."
                }]
            }, {
                "question": "What is the most significant trade-off when implementing a solution using FHE today?",
                "hint": "Every powerful technology has its costs. What is the 'cost' of computing on encrypted data?",
                "options": [{
                    "text": "Weaker security compared to standard encryption methods.",
                    "isCorrect": false,
                    "rationale": "FHE is based on well-established, secure cryptographic principles and is considered a strong form of encryption."
                }, {
                    "text": "Significant performance overhead (slower computation).",
                    "isCorrect": true,
                    "rationale": "This is the primary challenge with FHE. The complex computations required are much slower than performing the same operations on unencrypted data."
                }, {
                    "text": "Inability to work with machine learning models.",
                    "isCorrect": false,
                    "rationale": "Zama's Concrete ML is a specific tool that proves FHE works very well with many types of machine learning models."
                }, {
                    "text": "It is only compatible with a single programming language.",
                    "isCorrect": false,
                    "rationale": "Zama provides libraries in Rust (TFHE-rs) and Python (Concrete), showing it can be used from multiple languages."
                }]
            }]
        };

        const questions = quizData.questions;
        let currentQuestionIndex = 0;
        let score = 0;
        let answerSelected = false;

        const questionNumberEl = document.getElementById('question-number');
        const totalQuestionsEl = document.getElementById('total-questions');
        const questionTextEl = document.getElementById('question-text');
        const optionsContainerEl = document.getElementById('options-container');
        const rationaleContainerEl = document.getElementById('rationale-container');
        const rationaleTextEl = document.getElementById('rationale-text');
        const hintTextEl = document.getElementById('hint-text');
        const nextBtn = document.getElementById('next-btn');
        const restartBtn = document.getElementById('restart-btn');
        const questionSection = document.getElementById('question-section');
        const resultsSection = document.getElementById('results-section');
        const scoreEl = document.getElementById('score');
        const scoreTextEl = document.getElementById('score-text');
        const navigationSection = document.getElementById('navigation-section');


        function startQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            questionSection.classList.remove('hidden');
            resultsSection.classList.add('hidden');
            navigationSection.style.display = 'flex';
            loadQuestion();
        }

        function loadQuestion() {
            answerSelected = false;
            nextBtn.disabled = true;
            rationaleContainerEl.classList.add('hidden');
            
            const currentQuestion = questions[currentQuestionIndex];
            questionNumberEl.textContent = currentQuestionIndex + 1;
            totalQuestionsEl.textContent = questions.length;
            questionTextEl.textContent = currentQuestion.question;
            hintTextEl.textContent = `Hint: ${currentQuestion.hint}`;

            optionsContainerEl.innerHTML = '';
            currentQuestion.options.forEach((option, index) => {
                const optionElement = document.createElement('button');
                optionElement.textContent = option.text;
                optionElement.classList.add('quiz-option', 'w-full', 'p-4', 'border-2', 'border-slate-600', 'rounded-lg', 'text-left', 'transition-all', 'duration-300', 'hover:bg-slate-700', 'hover:border-amber-500');
                optionElement.addEventListener('click', () => selectAnswer(option, optionElement));
                optionsContainerEl.appendChild(optionElement);
            });
        }

        function selectAnswer(option, element) {
            if (answerSelected) return;
            answerSelected = true;
            nextBtn.disabled = false;

            const isCorrect = option.isCorrect;
            if (isCorrect) {
                score++;
                element.classList.remove('border-slate-600', 'hover:bg-slate-700');
                element.classList.add('bg-green-500/20', 'border-green-500');
            } else {
                element.classList.remove('border-slate-600', 'hover:bg-slate-700');
                element.classList.add('bg-red-500/20', 'border-red-500');
            }
            
            rationaleTextEl.textContent = option.rationale;
            rationaleContainerEl.classList.remove('hidden');

            Array.from(optionsContainerEl.children).forEach((child, index) => {
                child.disabled = true;
                if(questions[currentQuestionIndex].options[index].isCorrect) {
                    child.classList.add('bg-green-500/20', 'border-green-500');
                }
            });
        }

        function showResults() {
            questionSection.classList.add('hidden');
            resultsSection.classList.remove('hidden');
            navigationSection.style.display = 'none';

            scoreEl.textContent = `${score} / ${questions.length}`;
            const percentage = (score / questions.length) * 100;
            let message = '';
            if (percentage === 100) {
                message = "Perfect score! You have a deep understanding of FHE.";
            } else if (percentage >= 80) {
                message = "Excellent! You've mastered the key concepts.";
            } else if (percentage >= 60) {
                message = "Good job! These are complex topics.";
            } else {
                message = "A good start! The Zama docs are there to learn more.";
            }
            scoreTextEl.textContent = message;
        }

        nextBtn.addEventListener('click', () => {
            currentQuestionIndex++;
            if (currentQuestionIndex < questions.length) {
                loadQuestion();
            } else {
                showResults();
            }
        });

        restartBtn.addEventListener('click', startQuiz);

        startQuiz();
    </script>
</body>
</html>
